<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <ul id="list"></ul>
    <p id="para">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eveniet vero inventore tempore consectetur
        earum modi veniam dicta facere a! Nihil enim optio consectetur tenetur dolorum, earum magnam dicta nulla vero.
    </p>



    <script>
        let myProm = new Promise((resolve, reject) => {
            setTimeout(() => {
                let rand = Math.random();
                if (rand > 0.6) {
                    resolve(rand);
                } else {
                    reject(rand);
                }
            }, 1000);
        });
        myProm.then((num) => {
            console.log(`Win: ${num}`);
        }).catch((num) => {
            console.log(`Lose: ${num}`);
        });
        let myProm1 = new Promise((resolve, reject) => {
            setTimeout(() => {
                let myName = `Moiz`;
                if (myName.includes(`z`)) {
                    resolve(myName);
                } else {
                    reject(myName);
                }
            }, 1000);
        });
        myProm1.then((myName) => {
            console.log(`${myName} was Caught`);
        }).catch((myName) => {
            console.log(`${myName} was not Caught`);
        });

        // let myProm2 = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         let arr = [1, 2, 3, 4];
        //         resolve(arr);
        //         reject(arr);
        //     }, 1000);
        // });
        // let myProm3 = (myRollNo) => {
        //     return new Promise((resolve, reject) => {
        //         setTimeout((myRollNo) => {
        //             let myObj = {
        //                 name: "Abdul Moiz",
        //                 course: "Front End Developer and Artificial Intelligence",
        //             };
        //             let { name, course } = myObj;
        //             resolve(`My Name is ${name}. My Roll Number is ${myRollNo}. My Courses is ${course}.`);
        //         }, 1000, myRollNo);
        //     })
        // }
        // myProm2.then((arr) => {
        //     console.log(`Win: ${arr}.`);
        //     return myProm3(arr[2]);
        // }).then((myIntro) => {
        //     console.log(myIntro);
        // }).catch((arr) => {
        //     console.log(`Lose`);
        // });
        // let myArr = [5,6,7,8];
        // let myProm4 = () => {
        //     return new Promise((resolve,reject) => {
        //         setTimeout(() => {
        //             resolve(myArr);
        //             reject("lose");
        //         }, 1000);

        //     });
        // };
        // let myProm5 = (myRollNo) => {
        //     return new Promise((resolve,reject) => {
        //         setTimeout(() => {
        //             let myObj = {
        //                 name:"Abdul Moiz",
        //                 course:"Front End Developer,Artificial Intelligence",
        //             }
        //             resolve(`My Name is ${myObj.name}. My Course is ${myObj.course}. my Roll Number is ${myRollNo}.`);
        //             reject("Lose Object.")
        //         }, 1000,myRollNo);
        //     })
        // }
        // Promise.all([myProm4(),myProm5(myArr[0])]).then((result) => {
        //     console.log(result);
        // }).catch((err) => {
        //     console.log(err);
        // });

        let myProm8 = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    let obj = {
                        name: "Abdul Moiz",
                    }
                    // let {name} = obj;
                    resolve(obj.name);
                    // reject("Not Found");
                }, 1000);
            });
        };
        let myProm9 = (name) => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    let obj1 = {
                        course: "Front End Developer, Artificial Intelligence",
                    }
                    let { course } = obj1;
                    resolve({ name, course });
                }, 1000);
            });
        };
        let myProm10 = (name, course) => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve(`My Name is ${name}. My Course is ${course}.`);
                }, 1000);
            });
        };
        // myProm8().then((arr) => {
        //     return myProm9(arr);
        // }).then(({name,course}) => {
        //     return myProm10(name,course);
        // }).then((myIntro) => {
        //     console.log(myIntro);
        // }).catch((t) => {
        //     console.log(t);
        // });

        //async & await
        const getData = async () => {
            let prom1 = await myProm8();
            let { name, course } = await myProm9(prom1);
            let prom3 = await myProm10(name, course);
            console.log(prom3);
        }
        getData();

        const myCount = (val) => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    let myValue = 5 + val;
                    resolve(myValue);
                }, 1000);
            })
        }
        (async () => {
            let c1 = await myCount(5);
            let c2 = await myCount(c1)
            let c3 = await myCount(c2);
            let c4 = await myCount(c3);
            console.log(c4);
        })();

        //Using DOM
        // let list = document.getElementById("list");
        // let myCourse = [{name:"Front End Developer",},{name:"Artificial Intelligence",}];
        // let myProm6 = () => {
        //     let str = ``;
        //     myCourse.forEach(element => {
        //         str += `<li>${element.name}</li>`;
        //     })
        //     list.innerHTML = str;
        // };
        // let myProm7 = () => {
        //     return new Promise((resolve,reject) => {
        //         resolve();
        //         reject();
        //     })
        // };
        // myProm7().then(() => {
        //     myProm6();
        // }).catch(() => {
        //     console.log(`Fail`);
        // });


        const myBox = () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    let word = "Moiz";
                    
                    if (word.toUpperCase().includes("O") && word.toLowerCase().includes("m")) {

                        resolve(true);
                    } else {

                        reject("lose");
                    }
                }, 6000);
            })
        }
        // myBox().then((word) => {

        //     let para = document.getElementById("para");
        //     para.style.color = "crimson";
        // }).catch((arr) => {
        //     alert(arr);
        // })
        (async () => {
            try {
                let box = await myBox();
                let para = document.getElementById("para");
                para.style.color = "crimson";
            } catch (error) {
                alert(error);
            }
        })();

       export let myName = "Abdul Moiz";
    </script>
</body>

</html>